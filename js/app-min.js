$(document).ready(function(){const e="https://api.themoviedb.org/3/",t="?api_key=0721fb3764192b1547c7f9a484a2391a",o="discover/movie?sort_by=popularity.desc",i="&api_key=0721fb3764192b1547c7f9a484a2391a",n="https://image.tmdb.org/t/p/";let a="w92/";function s(e){url="https://api.themoviedb.org/3/movie/",$.ajax({url:url+e+t,dataType:"jsonp"}).done(function(e){$("#overview").empty(),$("#overview").append(`\n        <div class="row wrapp-overview">\n        <div class="col-md-4  py-5 mb-3">\n          <img src="${n}w300/${e.poster_path}" itemId=${e.id} class="img-fluid poster rounded">\n        </div>\n        <div class="col-md-8">\n        <button type="button" class="close close-overview my-3 mr-3" aria-label="Close">\n        <span aria-hidden="true">&times;</span>\n        </button>\n        <h3 class="mt-5">${e.title} <br><small>${e.release_date}</small></h3>\n        <h3>Overview</h3>\n        <p class="lead">${e.overview}</p>\n        </div>\n        </div\n        `)}).fail(function(e,t,o){console.log("getItemDetail ajax error: "+t+", "+o)}),$(document).on("click","button.close-overview",function(){console.log("remove-overview-clicked"),$(".wrapp-overview").remove()})}function l(e){$.ajax({url:"https://api.themoviedb.org/3/search/movie?query="+e+i,dataType:"jsonp",type:"get",success:function(e){$.each(e.results,function(e,t){t.poster_path,$("#content").append(`\n            <div class="col-md-6 mb-3">\n            <img src="${n}${a}${t.poster_path}" itemId="${t.id}" class="img-fluid poster rounded float-left mr-3">\n              <p class="mt-5">${t.title} <br><small>${t.release_date}</small></p>\n            </div>\n            `)}),$(".poster").on("click",function(){s($(this).attr("itemId"))})}})}$("#titleSearchBtn").on("click",function(e){let t=$("#filter-search").val().trim();$("#content").empty(),$("#overview").empty(),l(t)}),$("#filter-search").on("keypress",function(e){let t=$("#filter-search").val().trim();13==e.keyCode&&($("#content").empty(),$("#overview").empty(),l(t))}),$.ajax({url:e+o+i,dataType:"json",type:"get",success:function(e){$.each(e.results,function(e,t){$("#content").append(`\n            <div class="col-md-4 mb-3">\n              <img src="${n}${a}${t.poster_path}" itemId="${t.id}" class="img-fluid poster rounded float-left mr-3">\n              <p class="mt-5">${t.title} <br><small>${t.release_date}</small></p>\n            </div>\n            `)}),$(".poster").on("click",function(){s($(this).attr("itemId"))})}}),l()});